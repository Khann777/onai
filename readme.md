# ๐ Webhook API with LLM Processing

![Python](https://img.shields.io/badge/Python-3.13-blue.svg)
![Django](https://img.shields.io/badge/Django-5.1-green.svg)
![Celery](https://img.shields.io/badge/Celery-5.4-orange.svg)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-โ-blue.svg)
![FastAPI](https://img.shields.io/badge/Pydantic-โ-red.svg)

## ๐ ะะฟะธัะฐะฝะธะต ะฟัะพะตะบัะฐ
ะญัะพั ะฟัะพะตะบั ัะตะฐะปะธะทัะตั **REST API-ัะตัะฒะธั** ะดะปั ะพะฑัะฐะฑะพัะบะธ **webhook-ะทะฐะฟัะพัะพะฒ** ั ะฟะพะผะพััั **LLM (GPT, Claude, LLaMA)** ะธ ะฐัะธะฝััะพะฝะฝะพะน ะพะฑัะฐะฑะพัะบะธ ะทะฐะดะฐั ัะตัะตะท **Celery**.

๐ **ะคัะฝะบัะธะพะฝะฐะป ะฟัะพะตะบัะฐ:**
- ๐ก ะัะธะตะผ Webhook-ะทะฐะฟัะพัะพะฒ (`/webhook/`)
- ๐ค ะะฝัะตะณัะฐัะธั ั LLM (ัะตัะตะท OpenAI API ะธะปะธ OpenRouter)
- ๐ ะัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ะทะฐะฟัะพัะพะฒ ัะตัะตะท Celery
- ๐ ะัะฟัะฐะฒะบะฐ ัะตะทัะปััะฐัะฐ ะฝะฐ callback URL
- ๐ ะะฐะปะธะดะฐัะธั ะฒัะพะดะฝัั ะดะฐะฝะฝัั ัะตัะตะท **Pydantic**
- ๐ ะะฒัะพ-ะดะพะบัะผะตะฝัะฐัะธั API ั ะฟะพะผะพััั **Swagger**
- ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต **PostgreSQL** + **Redis** + **Docker**
- ๐ ะะพะณะธัะพะฒะฐะฝะธะต ัะพะฑััะธะน ะธ ะพัะธะฑะพะบ
- ๐๏ธ ะขะตััะธัะพะฒะฐะฝะธะต ัะตัะตะท **pytest**

---

## ๐ **1. ะฃััะฐะฝะพะฒะบะฐ**
### ๐ **1.1. ะะปะพะฝะธััะตะผ ัะตะฟะพะทะธัะพัะธะน**
```bash
git clone https://github.com/your-repo/webhook-llm.git
cd webhook-llm
```

๐ 1.2. ะฃััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะทะฐะฒะธัะธะผะพััะธ
```
pip install -r requirements.txt
```
๐ 1.3. ะกะพะทะดะฐะตะผ .env ัะฐะนะป

ะกะพะทะดะฐะน .env ัะฐะนะป ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ ะธ ะดะพะฑะฐะฒั ะฒ ะฝะตะณะพ:

```
SECRET_KEY=
DEBUG=

DB_NAME=
DB_USER=
DB_PASSWORD=
DB_HOST=
DB_PORT=

REDIS_URL=

OPENROUTER_API_KEY=
```
๐๏ธ 2. ะะฐะฟััะบ ะฟัะพะตะบัะฐ

๐ 2.1. ะะฐะฟััะบ ะฑะฐะทั ะดะฐะฝะฝัั
```
docker-compose up -d
```

ะะพัะปะต ะทะฐะฟััะบะฐ ัะตัะฒะตั ะดะพัััะฟะตะฝ ะฟะพ ะฐะดัะตัั:

๐ http://127.0.0.1:8000/


๐ 3.1. ะัะฟัะฐะฒะบะฐ webhook-ะทะฐะฟัะพัะฐ
POST /webhook/
๐ ะัะธะผะตั ะทะฐะฟัะพัะฐ:
```
{
  "message": "ะัะธะฒะตั, ะฑะพั!",
  "callback_url": "https://example.com/callback"
}
```
๐ ะัะธะผะตั ะพัะฒะตัะฐ:
```
{
  "message": "Accepted"
}
```
๐ 4. ะะพะบัะผะตะฝัะฐัะธั API

Swagger-ะดะพะบัะผะตะฝัะฐัะธั ะดะพัััะฟะฝะฐ ะฟะพ ะฐะดัะตัั:

๐ http://127.0.0.1:8000/swagger/

๐งช 5. ะขะตััะธัะพะฒะฐะฝะธะต

ะะฐะฟััะบ ะฒัะตั ัะตััะพะฒ:
```
pytest
```
ะะฐะฟััะบ ัะตััะพะฒ ั ะพััะตัะพะผ:
```
pytest -v --tb=short
```
๐๏ธ 6. ะขะตัะฝะพะปะพะณะธะธ

ะัะพะตะบั ะธัะฟะพะปัะทัะตั:

Django Rest Framework (API)

Pydantic (ะฒะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั)

Celery + Redis (ะฐัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ)

PostgreSQL (ะฑะฐะทะฐ ะดะฐะฝะฝัั)

pytest (ัะตััะธัะพะฒะฐะฝะธะต)



